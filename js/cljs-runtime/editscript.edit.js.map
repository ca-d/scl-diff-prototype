{"version":3,"sources":["editscript/edit.cljc"],"mappings":"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","names":["editscript$edit$IEdit$auto_sizing$dyn","x__5350__auto__","m__5351__auto__","editscript.edit/auto-sizing","goog/typeOf","m__5349__auto__","cljs.core/missing-protocol","editscript$edit$IEdit$add_data$dyn","editscript.edit/add-data","editscript$edit$IEdit$delete_data$dyn","editscript.edit/delete-data","editscript$edit$IEdit$replace_data$dyn","editscript.edit/replace-data","editscript$edit$IEdit$replace_str$dyn","editscript.edit/replace-str","editscript.edit/IEdit","this","path","value","ops","level","editscript$edit$IEditScript$combine$dyn","editscript.edit/combine","editscript$edit$IEditScript$get_size$dyn","editscript.edit/get-size","editscript$edit$IEditScript$set_size$dyn","editscript.edit/set-size","editscript$edit$IEditScript$edit_distance$dyn","editscript.edit/edit-distance","editscript$edit$IEditScript$get_edits$dyn","editscript.edit/get-edits","editscript$edit$IEditScript$get_adds_num$dyn","editscript.edit/get-adds-num","editscript$edit$IEditScript$get_dels_num$dyn","editscript.edit/get-dels-num","editscript$edit$IEditScript$get_reps_num$dyn","editscript.edit/get-reps-num","editscript.edit/IEditScript","that","size","editscript$edit$IType$get_type$dyn","editscript.edit/get-type","editscript.edit/IType","editscript.edit/nada","editscript.edit/t_editscript$edit12724","_","cljs.core/PROTOCOL_SENTINEL","cljs.core/List","cljs.core/EmptyList","cljs.core/Cons","cljs.core/PersistentArrayMap","cljs.core/PersistentHashMap","cljs.core/PersistentTreeMap","cljs.core/PersistentVector","cljs.core/Subvec","cljs.core/MapEntry","cljs.core/PersistentHashSet","cljs.core/PersistentTreeSet","editscript.edit/sizing*","data","up","s","G__12771","fexpr__12770","cljs.core/-vreset!","cljs.core/-deref","seq__12778","cljs.core/seq","chunk__12779","count__12780","i__12781","temp__5804__auto__","cljs.core/chunked-seq?","c__5525__auto__","cljs.core/chunk-first","cljs.core/chunk-rest","cljs.core/count","cljs.core/first","cljs.core/next","child","editscript.edit/sizing","cljs.core/deref","cljs.core/volatile!","this__5287__auto__","writer__5288__auto__","opt__5289__auto__","cljs.core/-write","editscript.edit/EditScript","editscript.edit/->EditScript","edits","auto-sizing?","adds-num","dels-num","reps-num","cljs.core/long","cljs.core.conj","G__12817","cljs.core/Keyword","js/Error","cljs.core.into","editscript.edit/valid-str-edits?","cljs.core/vector?","cljs.core/every?","x","or__5002__auto__","cljs.core/nat-int?","and__5000__auto__","cljs.core._EQ_","vec__12860","cljs.core.nth","op","y","fexpr__12863","G__12864","G__12865","editscript.edit/valid-edit?","edit","c","vec__12866","fexpr__12869","fexpr__12870","editscript.edit/valid-edits?","editscript.edit/count-str-ops","adds","dels","reps","seq__12871","chunk__12873","count__12874","i__12875","d","G__12901","G__12902","editscript.edit/count-ops","seq__12903","chunk__12904","count__12905","i__12906","vec__12923","vec__12935","G__12926","G__12938","editscript.edit/edits->script","vec__12949","o","writer","opts","cljs.core.write_all"],"sourcesContent":[";;\n;; Copyright (c) Huahai Yang. All rights reserved.\n;; The use and distribution terms for this software are covered by the\n;; Eclipse Public License 1.0 (http://opensource.org/licenses/eclipse-1.0.php)\n;; which can be found in the file LICENSE at the root of this distribution.\n;; By using this software in any fashion, you are agreeing to be bound by\n;; the terms of this license.\n;; You must not remove this notice, or any other, from this software.\n;;\n\n(ns ^:no-doc editscript.edit\n  #?(:clj (:import [clojure.lang PersistentVector IPersistentList IPersistentMap\n                    IPersistentSet IPersistentVector MapEntry]\n                   [java.util Map$Entry])))\n\n(defprotocol IEdit\n  (auto-sizing [this path value])\n  (add-data [this path value])\n  (delete-data [this path])\n  (replace-data [this path value])\n  (replace-str [this path ops level]))\n\n(defprotocol IEditScript\n  (combine [this that]\n    \"Concate that editscript onto this editscript, return the new editscript\")\n  (get-size [this] \"Report the size of the editscript\")\n  (set-size [this size] \"Set the size, return the script\")\n  (edit-distance [this] \"Report the edit distance, i.e number of operations\")\n  (get-edits [this] \"Report the edits as a vector\")\n  (get-adds-num [this] \"Report the number of additions\")\n  (get-dels-num [this] \"Report the number of deletions\")\n  (get-reps-num [this] \"Report the number of replacements\"))\n\n(defprotocol IType\n  (get-type [this] \"Return a type keyword, :val, :map, :lst, etc.\"))\n\n(defn nada\n  \"A special type means 'not present'\"\n  []\n  (reify IType\n    (get-type [_] :nil)))\n\n#?(:clj\n   (extend-protocol IType\n     IPersistentList\n     (get-type [_] :lst)\n\n     IPersistentMap\n     (get-type [_] :map)\n\n     IPersistentVector\n     (get-type [_] :vec)\n\n     IPersistentSet\n     (get-type [_] :set)\n\n     Map$Entry\n     (get-type [_] :val)\n\n     MapEntry\n     (get-type [_] :val)\n\n     nil\n     (get-type [_] :val)\n\n     String\n     (get-type [_] :str)\n\n     Object\n     (get-type [_] :val))\n\n   :cljs\n   (extend-protocol IType\n     List\n     (get-type [_] :lst)\n\n     EmptyList\n     (get-type [_] :lst)\n\n     Cons\n     (get-type [_] :lst)\n\n     PersistentArrayMap\n     (get-type [_] :map)\n\n     PersistentHashMap\n     (get-type [_] :map)\n\n     PersistentTreeMap\n     (get-type [_] :map)\n\n     PersistentVector\n     (get-type [_] :vec)\n\n     Subvec\n     (get-type [_] :vec)\n\n     MapEntry\n     (get-type [_] :val)\n\n     PersistentHashSet\n     (get-type [_] :set)\n\n     PersistentTreeSet\n     (get-type [_] :set)\n\n     nil\n     (get-type [_] :val)\n\n     string\n     (get-type [_] :str)\n\n     default\n     (get-type [_] :val)))\n\n(defn- sizing*\n  [data size]\n  (let [up (fn [s] (inc ^long s))]\n    (if (#{:vec :lst :map :set} (get-type data))\n      (do (vswap! size up)\n          (doseq [child data]\n            (sizing* child size)))\n      (vswap! size up))))\n\n(defn- sizing\n  [data]\n  (let [size (volatile! 0) ]\n    (sizing* data size)\n    @size))\n\n(deftype ^:no-doc EditScript [^:unsynchronized-mutable ^PersistentVector edits\n                              ^boolean auto-sizing?\n                              ^:unsynchronized-mutable ^long size\n                              ^:unsynchronized-mutable ^long adds-num\n                              ^:unsynchronized-mutable ^long dels-num\n                              ^:unsynchronized-mutable ^long reps-num]\n\n  IEdit\n  (auto-sizing [this path value]\n    (when auto-sizing?\n      (set! size (long (+ 2 size (sizing path) (if value (sizing value) 0)))))\n    this)\n  (add-data [this path value]\n    (locking this\n      (set! adds-num (inc adds-num))\n      (set! edits (conj edits [path :+ value]))\n      (auto-sizing this path value)))\n  (delete-data [this path]\n    (locking this\n      (set! dels-num (inc dels-num))\n      (set! edits (conj edits [path :-]))\n      (auto-sizing this path nil)))\n  (replace-data [this path value]\n    (locking this\n      (set! reps-num (inc reps-num))\n      (set! edits (conj edits [path :r value]))\n      (auto-sizing this path value)))\n  (replace-str [this path ops level]\n    (locking this\n      (set! reps-num (inc reps-num))\n      (set! edits (conj edits [path\n                               (case level\n                                 :character :s\n                                 :word      :sw\n                                 :line      :sl)\n                               ops]))\n      (auto-sizing this path \"\")))\n\n  IEditScript\n  (combine [_ that]\n    (EditScript. (into edits (get-edits that))\n                 auto-sizing?\n                 (+ size (get-size that))\n                 (+ adds-num (get-adds-num that))\n                 (+ dels-num (get-dels-num that))\n                 (+ reps-num (get-reps-num that))))\n  (get-size [_] size)\n  (set-size [this s] (set! size (long s)) this)\n  (get-edits [_] edits)\n  (get-adds-num [_] adds-num)\n  (get-dels-num [_] dels-num)\n  (get-reps-num [_] reps-num)\n  (edit-distance [_] (+ adds-num dels-num reps-num)))\n\n(defn- valid-str-edits?\n  [data level]\n  (and (vector? data)\n       (every? (fn [x]\n                 (or (nat-int? x)\n                     (and (vector? x)\n                          (= 2 (count x))\n                          (let [[op y] x]\n                            (and\n                              (#{:- :r :+} op)\n                              (case op\n                                :-      (nat-int? y)\n                                (:+ :r) (case level\n                                          :s        (string? y)\n                                          (:sl :sw) (vector? y))))))))\n               data)))\n\n(defn- valid-edit?\n  [edit]\n  (when (vector? edit)\n    (let [c (count edit)]\n      (when (< 1 c 4)\n        (let [[path op data] edit]\n          (and (vector? path)\n               (#{:- :r :+ :s :sw :sl} op)\n               (if (= :- op) (nil? data) (= c 3))\n               (if (#{:s :sw :sl} op)\n                 (valid-str-edits? data op)\n                 true)))))))\n\n(defn valid-edits?\n  [edits]\n  (when (vector? edits)\n    (if (seq edits)\n      (every? valid-edit? edits)\n      true)))\n\n(defn- count-str-ops\n  [data adds dels reps]\n  (doseq [d     data\n          :when (vector? d)]\n    (case (nth d 0)\n      :+ (vswap! adds inc)\n      :- (vswap! dels inc)\n      :r (vswap! reps inc))))\n\n(defn- count-ops\n  [edits]\n  (let [adds (volatile! 0)\n        dels (volatile! 0)\n        reps (volatile! 0)]\n    (doseq [[_ op data] edits]\n      (case op\n        :+           (vswap! adds inc)\n        :-           (vswap! dels inc)\n        :r           (vswap! reps inc)\n        (:s :sw :sl) (count-str-ops data adds dels reps)))\n    [@adds @dels @reps]))\n\n(defn edits->script\n  \"Create an EditScript instance from a vector of edits, like those obtained\n  through calling `get-edits` on an EditScript\"\n  [edits]\n  (assert (valid-edits? edits) \"Not a vector of valid edits\")\n  (let [[adds dels reps] (count-ops edits)]\n    (->EditScript edits true (sizing edits) adds dels reps)))\n\n\n#?(:clj (defmethod print-method EditScript\n          [x ^java.io.Writer writer]\n          (print-method (get-edits x) writer))\n   :cljs (extend-protocol IPrintWithWriter\n           EditScript\n           (-pr-writer [o writer opts]\n             (write-all writer (str (get-edits o))))))\n"],"x_google_ignoreList":[0]}